<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة التحكم - حرفي</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        .dashboard-card {
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            transition: transform 0.3s;
        }
        
        .dashboard-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .table-responsive {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        .table th {
            background-color: var(--primary-color);
            color: white;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">حرفي</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">الرئيسية</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="service.html">البحث عن الحرفيين</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="register.html">تسجيل حرفي</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">من نحن</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="management.html">لوحة التحكم</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Dashboard Content -->
    <div class="container py-5">
        <h1 class="text-center mb-5">لوحة التحكم</h1>
        
        <!-- Statistics Cards -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="stat-card text-center">
                    <h3><i class="fas fa-users"></i> العملاء</h3>
                    <h4 id="total-customers">0</h4>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card text-center">
                    <h3><i class="fas fa-user-tie"></i> الحرفيين</h3>
                    <h4 id="total-employees">0</h4>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card text-center">
                    <h3><i class="fas fa-money-bill-wave"></i> المعاملات</h3>
                    <h4 id="total-transactions">0</h4>
                </div>
            </div>
        </div>

        <!-- Customers Section -->
        <div class="dashboard-card">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-users me-2"></i>العملاء</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>الصورة</th>
                                    <th>الاسم</th>
                                    <th>البريد الإلكتروني</th>
                                    <th>الهاتف</th>
                                    <th>العنوان</th>
                                    <th>المدينة</th>
                                </tr>
                            </thead>
                            <tbody id="customers-table">
                                <!-- Customer data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Employees Section -->
        <div class="dashboard-card">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-user-tie me-2"></i>الحرفيين</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>الصورة</th>
                                    <th>الاسم</th>
                                    <th>الوظيفة</th>
                                    <th>البريد الإلكتروني</th>
                                    <th>الهاتف</th>
                                    <th>المدينة</th>
                                </tr>
                            </thead>
                            <tbody id="employees-table">
                                <!-- Employee data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Transactions Section -->
        <div class="dashboard-card">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-money-bill-wave me-2"></i>المعاملات</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>رقم المعاملة</th>
                                    <th>رقم العميل</th>
                                    <th>المبلغ</th>
                                    <th>النوع</th>
                                    <th>الوصف</th>
                                    <th>التاريخ</th>
                                </tr>
                            </thead>
                            <tbody id="transactions-table">
                                <!-- Transaction data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>حرفي</h5>
                    <p>ربط الحرفيين المهرة مع العملاء الذين يحتاجون خدماتهم.</p>
                </div>
                <div class="col-md-4">
                    <h5>روابط سريعة</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white">من نحن</a></li>
                        <li><a href="#" class="text-white">اتصل بنا</a></li>
                        <li><a href="#" class="text-white">شروط الخدمة</a></li>
                        <li><a href="#" class="text-white">سياسة الخصوصية</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>اتصل بنا</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-envelope"></i> contact@harfi.com</li>
                        <li><i class="fas fa-phone"></i> +212 600 000 000</li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Function to load and display data
        function loadData() {
            fetch('management_data.json')
                .then(response => response.json())
                .then(data => {
                    // Update statistics
                    document.getElementById('total-customers').textContent = Object.keys(data.customers).length;
                    document.getElementById('total-employees').textContent = Object.keys(data.employees).length;
                    document.getElementById('total-transactions').textContent = Object.keys(data.transactions).length;

                    // Load customers
                    const customersTable = document.getElementById('customers-table');
                    customersTable.innerHTML = '';
                    Object.values(data.customers).forEach(customer => {
                        customersTable.innerHTML += `
                            <tr>
                                <td><img src="https://images.unsplash.com/photo-1581094794329-c8112c4e0e0d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" 
                                    alt="صورة العميل" class="rounded-circle" style="width: 50px; height: 50px; object-fit: cover;"></td>
                                <td>${customer.name}</td>
                                <td>${customer.email}</td>
                                <td>${customer.phone}</td>
                                <td>${customer.address}</td>
                                <td>بني ملال</td>
                            </tr>
                        `;
                    });

                    // Load employees
                    const employeesTable = document.getElementById('employees-table');
                    employeesTable.innerHTML = '';
                    Object.values(data.employees).forEach(employee => {
                        employeesTable.innerHTML += `
                            <tr>
                                <td><img src="https://images.unsplash.com/photo-1581094794329-c8112c4e0e0d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" 
                                    alt="صورة الحرفي" class="rounded-circle" style="width: 50px; height: 50px; object-fit: cover;"></td>
                                <td>${employee.name}</td>
                                <td>${employee.position}</td>
                                <td>${employee.email}</td>
                                <td>${employee.phone}</td>
                                <td>بني ملال</td>
                            </tr>
                        `;
                    });

                    // Load transactions
                    const transactionsTable = document.getElementById('transactions-table');
                    transactionsTable.innerHTML = '';
                    Object.values(data.transactions).forEach(transaction => {
                        transactionsTable.innerHTML += `
                            <tr>
                                <td>${transaction.transaction_id}</td>
                                <td>${transaction.customer_id}</td>
                                <td>${transaction.amount}</td>
                                <td>${transaction.transaction_type}</td>
                                <td>${transaction.description}</td>
                                <td>${transaction.date}</td>
                            </tr>
                        `;
                    });
                })
                .catch(error => console.error('Error loading data:', error));
        }

        // Load data when page loads
        document.addEventListener('DOMContentLoaded', loadData);
    </script>
</body>
</html> 